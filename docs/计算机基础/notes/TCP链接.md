## TCP链接
HTTP协议是建立在TCP/IP协议的基础上的，他是TCP/IP协议的一个子集（只有低层次的建立才能建立高层次的）
TCP/IP协议是互联网上一系列协议的总称

#### 分层管理
TCP/IP协议族由一个四层协议组成的系统，这四层分别为：应用层，传输层，网络层，数据链路层
 - 应用层：程序决定向用户提供的应用服务，应用层通过系统调用与传输层进行通信
 - 传输层: 传输层通过系统调用向应用层提供处于网络连接中的两台计算机之间的数据传输功能（就是去建立两个设备之间的数据传输功能）
 - 网络层： 用来处理网络上流动的数据包（最小单位）把数据包传给计算机
 - 数据链路层：光纤，网卡等硬件层

<img :src="$withBase('/分层管理.png')" width="300" alt="图">

<!-- #### HTTP数据传输过程 -->

#### 传输层（TCP协议）的三次握手
使用TCP协议进行通信必须先建立链接，然后才能开始传输数据。为了确保双方链接的可靠性，TCP协议选择三次握手（相当于一个校验机制）
 - 第一次：客户端发送带有SYN标志的链接请求报文端，然后进入SYN_SEND状态，等待服务端的确认
 - 第二次：服务端接收到SYN后，需要发送ACK对SYN进行一个确认，同时发送自己的SYN，然后进入SYN_REVC状态
 - 第三次：客户端接收到服务端的SYN加ACK，在向服务端发送ACK进行确认，这个报文段完毕后，双方进入ESTABLISHED状态

<img :src="$withBase('/三次握手.png')" width="440" alt="图">

把个比方：小明和小红各自买部手机，想要给彼此发送短信，小明先给小红发送了一条短信（等待回复 回复就代表我的发送功能是正常的，而小红接收短信的功能是正常的）；小红接收到短信（代表小明的发送和我的接收是正常的）后，回复了一条短信（等待回复 回复代表我发送的功能是正常的）；小明接收到短信后，(就知道了我们双放的回复和接收短信的功能都是正常的)，回复一条短信告诉小红，并且开始随后的交互通信


#### HTTP事务处理过程
当客户端访问Web站点时，首先会进行DNS服务器进行域名解析返回相应的IP地址，然后浏览器会生成HTTP请求（封装HTTP请求数据包，然后向下传输 ---> 应用层向传输层传递），并通过TCP/IP协议发送给Web服务器，这期间还需要三次握手进行校验成功后才会建立链接，传输HTTP请求（请求报文）， Web服务器接收到请求后会根据请求生成HTTP回复（响应报文），在通过TCP/IP协议返回给客户端