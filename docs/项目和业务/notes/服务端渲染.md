## 单页面和多页面

- 多页面应用：每次页面跳转都会返回一个新的 html 文档
  - 优点：SEO 的效果好，首屏加载快
  - 缺点：用户体验不好，每次导航都会重新加载所有资源（网络状态不好，响应就会慢）
- 单页面应用：只存在一个 html 文档，通过执行 js 脚本展示 html 内部的文档结构
  - 优点：页面导航只会加载部分资源，不会请求 html 文档
  - 缺点：不利用 SEO，因为内容都是 js 执行的结果，搜索引擎不会等待 js 脚本的执行
  <hr />

| 区别         |                      MPA |                       SPA                       |
| :----------- | -----------------------: | :---------------------------------------------: |
| 应用构成     |             多个页面构成 |        一个页面，通过渲染不同的 DOM 片段        |
| 跳转         |     跳转会去加载其他资源 | 删除之前的 DOM 片段，创建新的片段，外壳页面不变 |
| URL          |           xxx/page1.html |                    xxx/page1                    |
| 数据传递     | 只能依赖 url 或者 cookie |                各种组件通讯手段                 |
| 搜索引擎优化 |                 直接做了 |       需要配合框架的方案，有一定开发成本        |

### 渲染
**渲染是指将数据和模板相结合，对于前端而言，通过接口地址获取数据，然后将数据通过模板绑定语法关联到页面当中，最终呈现给用户，这个过程称之为渲染**

### 传统服务端渲染
服务端运行过程中将所需的数据和页面模板渲染为HTML，所以浏览器直接呈现包含内容的页面。<br/>
**流程**：客户端请求一个地址服务端接受到请求后去数据库查询页面需要的数据，接受响应后将数据与模板渲染为HTML然后返回客户端HTML（PHP,JSP）
**不足**：
 - 应用的前后端部分完全耦合在一起，不利于前后端协同开发
 - 前端没有发挥空间
 - 由于内容在服务端操作，导致其压力大
 - 相对于现在的SPA应用，用户体验一般

### 客户端渲染
随着ajax技术的普及，动态获取数据可以在客户端进行<br/>
**流程**：客户端向服务端请求一个地址，返回空白HTML，客户端通过AJAX请求数据，服务端向数据库查询获取数据，响应结果给客户端，客户端动态渲染页面，这样后端只需要负责数据的处理，前端负责页面渲染，分离模式提高开发的效率和可维护性，而前端也更为独立，选择任意的技术方案与框架
**不足**：
 - 因为HTML没有内容，必须等到加载并且执行完才能呈现
 - 因为HTML没有内容，所以对于目前的搜索引擎爬虫页面没有有用的信息，没办法提取关键字

### 同构渲染
本质是服务端渲染与客户端渲染的结合，在服务端执行一次，用于实现首屏直出，在客户端执行一次，用于接管页面交互，核心解决SEO和首屏渲染慢的问题
<br/>

**流程**：客户端请求一个地址，服务端查询页面所需数据返回数据，渲染页面以及生成客户端SPA脚本，返回客户端渲染好的页面内容和SPA脚本，客户端呈现返回的HTML。通过SPA脚本激活SPA应用之后的页面交互都是客户端渲染
<br/>

**不足**：
 - 开发成本高，浏览器特定的代码只能在某些生命周期的钩子函数中使用，一些库需要特殊处理，才能在程序中使用
 - 涉及构建设置和部署等要求，服务端渲染应用程序，需要nodejs环境
 - 更多的服务端负载。在node.js中渲染完成的应用程序，会比在只提供静态文件的server更加大量占用CPU资源，在高流量环境下需要采取各种措施策略
<br />

**成本**：
 - 性能方面，在使用SSR之前，是否明确是否真的需要他，这要取决于内容到达时间对程序的重要程度，例如，程序加载时产生的额外几百毫秒并不重要，这是SSR将是一个小题大做的举动，当内容到达时间要求是绝对关键的指标，这种情况下，SSR可以帮助你实现最佳的初始加载性能
 - 效益方面，大部分网站都是出于效应方面才启用服务端渲染，性能是其次。假设A网站页面有个关键字，这个关键字是需要跑一遍js脚本才能添加到html中，而在客户端渲染模式下，无法找到关键字。运营为了A网站的效益不能不开启服务端渲染。

## Vue SSR

